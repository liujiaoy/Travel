webpackJsonp([1],{Cdx3:function(t,e,n){var i=n("sB3e"),s=n("lktj");n("uqUo")("keys",function(){return function(t){return s(i(t))}})},Erzt:function(t,e,n){t.exports=n.p+"static/img/1.642841c.jpg"},HkIW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("EdT2"),s=n("0RrJ");var o=n("fZjL"),r=n.n(o),a={name:"Waterfall",props:{col:Number,mainMenuList:Array},data:function(){return{dataList:{},scrolltime:null}},computed:{colwidth:function(){return{width:100/r()(this.dataList).length+"%",color:"red"}}},created:function(){this.initdataList()},mounted:function(){window.addEventListener("scroll",this.listenScroll,!0)},methods:{mountMenu:function(t){var e=this,n=this.mainMenuList,i=t||0,s=this.selectCol(),o=this;n.length>i&&(this.dataList[s].push(this.mainMenuList[i]),this.$nextTick(function(){var t=new Image;t.src=e.mainMenuList[i].imgUrl,t.onload=function(){var e=t.height/t.width,n=o.$refs.img[i];n.height=n.width*e,o.lazyloadimg(i),o.mountMenu(i+1)}}))},selectCol:function(){for(var t=this.$refs.col,e=0,n=t[e].offsetHeight,i=0;i<this.col;i++){var s=t[i].offsetHeight;n>=s&&(n=s,e=i)}return e},lazyloadimg:function(t){window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;var e=document.documentElement.clientHeight,n=this.$refs.img[t];if(void 0!=n){var i=n.getBoundingClientRect(),s=i.top,o=i.bottom;n.dataset.src&&(s>0&&s<e||o>0&&o<e)&&(n.src=n.dataset.src,n.dataset.src="")}},initdataList:function(){for(var t=0;t<this.col;t++)this.$set(this.dataList,t,[])},listenScroll:function(){clearTimeout(this.scrolltime),this.scrolltime=setTimeout(this.handleScroll,200)},handleScroll:function(){for(var t=0;t<this.mainMenuList.length;)this.lazyloadimg(t),t++}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"box",staticClass:"box"},t._l(t.dataList,function(e,s,o){return i("div",{key:o,ref:"col",refInFor:!0,staticClass:"col",style:t.colwidth},[i("transition-group",{attrs:{name:"list"}},t._l(e,function(e){return i("div",{key:e.id,staticClass:"item border-right border-bottom"},[i("img",{ref:"img",refInFor:!0,attrs:{src:n("Erzt"),"data-src":e.imgUrl}}),t._v(" "),i("div",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),t._t("default")],2)}),0)],1)}),0)])},staticRenderFns:[]};var c=n("VU/8")(a,l,!1,function(t){n("Nd/b")},"data-v-2814e079",null).exports,u={name:"Profile",components:{NavBar:i.a,Waterfall:c},data:function(){return{mainMenuList:[],col:2}},mounted:function(){var t=this;Object(s.a)({url:"/profile/goods.json"}).then(function(e){t.mainMenuList=e.data,t.$nextTick(function(){t.$refs.waterfall.mountMenu()})})},methods:{}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("nav-bar",[e("div",{attrs:{slot:"center"},slot:"center"},[this._v("照片墙")])]),this._v(" "),e("waterfall",{ref:"waterfall",attrs:{mainMenuList:this.mainMenuList,col:this.col}})],1)},staticRenderFns:[]};var f=n("VU/8")(u,d,!1,function(t){n("ksTm")},"data-v-34d1499a",null);e.default=f.exports},"Nd/b":function(t,e){},fZjL:function(t,e,n){t.exports={default:n("jFbC"),__esModule:!0}},jFbC:function(t,e,n){n("Cdx3"),t.exports=n("FeBl").Object.keys},ksTm:function(t,e){},uqUo:function(t,e,n){var i=n("kM2E"),s=n("FeBl"),o=n("S82l");t.exports=function(t,e){var n=(s.Object||{})[t]||Object[t],r={};r[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",r)}}});
//# sourceMappingURL=1.141cd7c5d2142da0fda0.js.map