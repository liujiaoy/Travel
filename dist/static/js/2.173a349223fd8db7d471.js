webpackJsonp([2],{"9XTS":function(t,i){},bRhn:function(t,i){},pCPM:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=s("Dd8w"),e=s.n(a),o=s("fMHV"),c=s("mtWM"),n=s.n(c),r=s("NYxO"),l=s("87cn"),d=s("Zos3"),u={name:"",props:{tabtxt:Array,currentTab:{type:Number,default:0}},data:function(){return{cTab:this.currentTab||0}},methods:{itemClick:function(t){this.cTab=t,this.$emit("scrollToView",this.cTab)}},mounted:function(){}},b={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("ul",{staticClass:"tab border-bottom"},t._l(t.tabtxt,function(i,a){return s("li",{key:a,class:{"tab-item-active":a==t.cTab},attrs:{"data-index":a},on:{click:function(i){return t.itemClick(a)}}},[t._v("\r\n  "+t._s(i)+"\r\n  ")])}),0)},staticRenderFns:[]};var f=s("VU/8")(u,b,!1,function(t){s("9XTS")},"data-v-4b2284f8",null).exports,m=s("+4j8"),v=s("+CPH"),h=s("bbCJ"),T=s("NHnr"),_={components:{Fade:o.a,BackInCircle:l.a,TabBar:d.a,TabBarItem:m.a,TabItem:f,CateTitle:v.a,CommonScroll:h.a},name:"HotList",data:function(){return{hotlist:"",tabtop:0,isFixed:!1}},computed:e()({},Object(r.c)({city:"city"})),methods:{getData:function(){n.a.get(this.baseURL+"/hotlist.json?city="+this.city).then(this.getInfoSucc)},getInfoSucc:function(t){if((t=t.data).ret&&t.data){var i=t.data;this.hotlist=i}},scrollToView:function(t){var i=document.querySelectorAll(".tab-content")[t].offsetTop;this.$refs.scroll.scroll.scrollTo(0,-i)},handleScroll:function(t){var i=0-t.y;this.switchTabFixed(i),this.switchTabActive(i)},switchTabFixed:function(t){t>this.tabtop?this.isFixed=!0:this.isFixed=!1},switchTabActive:function(t){t>document.getElementsByClassName("tab-content")[1].offsetTop-100?(this.$refs.tab.cTab=1,this.$refs.tab2.cTab=1):(this.$refs.tab.cTab=0,this.$refs.tab2.cTab=0)},getTabTop:function(){var t=this,i=this;this.$nextTick(function(){t.$refs.img.onload=function(){i.tabtop=document.getElementsByClassName("tab-group")[1].offsetTop}})}},created:function(){this.getData()},mounted:function(){this.getTabTop(),T.default.$on("scroll",this.handleScroll)},beforeDestroy:function(){T.default.$off("scroll",this.handleScroll)}},p={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("fade",{attrs:{title:"一周最热"}}),t._v(" "),s("div",{staticClass:"tab-group"},[s("tab-item",{directives:[{name:"show",rawName:"v-show",value:t.isFixed,expression:"isFixed"}],ref:"tab2",staticClass:"tab-fixed",attrs:{tabtxt:["TOP景点","TOP路线"],currentTab:1},on:{scrollToView:t.scrollToView}})],1),t._v(" "),s("common-scroll",{ref:"scroll",staticClass:"content-top",attrs:{probeType:3}},[s("div",{staticClass:"title-img"},[s("back-in-circle",{staticClass:"back"}),t._v(" "),s("img",{ref:"img",staticClass:"top-img",attrs:{src:"http://img1.qunarzz.com/sight/p0/1606/5d/5d50a982b5b14fff90.water.jpg_375x170_8a953cf6.jpg"}}),t._v(" "),s("div",{staticClass:"mask"}),t._v(" "),s("div",{staticClass:"mask-content"},[s("div",[t._v("--"+t._s(this.city)+"--")]),t._v(" "),s("div",{staticClass:"font-level-1"},[t._v("本周热门榜单")])])],1),t._v(" "),s("div",{staticClass:"tab-group"},[s("tab-item",{directives:[{name:"show",rawName:"v-show",value:!t.isFixed,expression:"!isFixed"}],ref:"tab",attrs:{id:"tab",tabtxt:["TOP景点","TOP路线"],currentTab:0},on:{scrollToView:t.scrollToView}})],1),t._v(" "),s("div",{staticClass:"tab-content top-addr",attrs:{id:"addr"}},[s("ul",t._l(t.hotlist.addresslist,function(i){return s("router-link",{key:i.id,staticClass:"item border-bottom",attrs:{tag:"li",to:"/detail/"+i.id}},[s("div",{staticClass:"item-img"},[s("img",{staticClass:"img-content",attrs:{src:i.imgUrl}})]),t._v(" "),s("div",{staticClass:"item-info"},[s("p",{staticClass:"item-info-title"},[t._v(t._s(i.title))]),t._v(" "),s("p",{staticClass:"item-info-desc"},[t._v(t._s(i.desc))]),t._v(" "),s("button",{staticClass:"item-button"},[t._v("查看详情")])])])}),1)]),t._v(" "),s("div",{staticClass:"tab-content top-route",attrs:{id:"route"}},[s("cate-title",{attrs:{title:"路线",bgcolor:"#eee"}}),t._v(" "),s("ul",t._l(t.hotlist.routelist,function(i){return s("router-link",{key:i.id,staticClass:"item border-bottom",attrs:{tag:"li",to:"/detail/"+i.id}},[s("div",{staticClass:"item-img"},[s("img",{staticClass:"img-content",attrs:{src:i.imgUrl}})]),t._v(" "),s("div",{staticClass:"item-info"},[s("p",{staticClass:"item-info-title"},[t._v(t._s(i.title))]),t._v(" "),s("p",{staticClass:"item-info-desc"},[t._v(t._s(i.desc))]),t._v(" "),s("button",{staticClass:"item-button"},[t._v("查看详情")])])])}),1)],1)])],1)},staticRenderFns:[]};var C=s("VU/8")(_,p,!1,function(t){s("bRhn")},"data-v-51d66482",null);i.default=C.exports}});
//# sourceMappingURL=2.173a349223fd8db7d471.js.map